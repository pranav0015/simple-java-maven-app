pipeline{
    agent any

    environment{
    BRANCH_NAME = "master"
}

        stages{

            stage("test"){
                steps{
                    echo "Testing the application"
                    echo "Executing branch ${BRANCH_NAME}"
                }
            }
            stage("build"){
                steps{
                    echo "Building the application ${BRANCH_NAME}"
                }
            }

            stage("deploy"){
                steps{
                    when{
                        expression{
                        BRANCH_NAME == 'master'
                    }
                }
                    echo "Deploying the application ${BRANCH_NAME}"
                }
            }
        }
}

